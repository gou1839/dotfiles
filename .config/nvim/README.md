# Neovim設定

これは最新の開発環境を提供することを目的とした個人的なNeovim設定です。パッケージマネージャーとして[Jetpack](https://github.com/tani/vim-jetpack)を使用し、機能強化のための様々なプラグインを含んでいます。

## ディレクトリ構造

```
~/.config/nvim/
├── init.vim           # メイン設定ファイル
├── README.md         # このファイル
└── config/
    ├── options.vim    # 基本的なVimオプション
    ├── plugins.vim    # Jetpackプラグインリスト
    ├── colors.vim     # カラースキーム設定
    ├── autocmd.vim    # 自動コマンド設定
    ├── functions.vim  # カスタム関数
    ├── keymap/        # キーマッピング
    │   ├── basic.vim      # 基本的なキーマッピング
    │   ├── plugins.vim    # プラグイン固有のキーマッピング
    │   └── terminal.vim   # ターミナル関連のキーマッピング
    └── plugin-settings/   # 個別のプラグイン設定
        ├── lightline.vim  # Lightlineステータスライン設定
        ├── nerdtree.vim   # NERDTreeファイルエクスプローラー設定
        ├── coc.vim        # CoC (Conquer of Completion) 設定
        └── auto-save.vim  # 自動保存設定

```

## キーマッピング

### 基本マッピング (`keymap/basic.vim`)
- `<Space>` - Leaderキー
- `<S-Tab>` - インサートモードでインデントを戻す
- `<C-h>` - 左のウィンドウに移動
- `<C-j>` - 下のウィンドウに移動
- `<C-k>` - 上のウィンドウに移動
- `<C-l>` - 右のウィンドウに移動
- `<Esc><Esc>` - 検索ハイライトを消去

### プラグイン用マッピング (`keymap/plugins.vim`)
- `<C-e>` - NERDTreeの表示/非表示を切り替え
- `<C-p>` - ファジーファインダー(fzf)を起動
- `<C-n>` / `<C-p>` - 補完メニューの更新
- `<Tab>` - 補完の確定
- `[g` / `]g` - 診断の前後移動
- `gd` - 定義へジャンプ
- `gy` - 型定義へジャンプ
- `gi` - 実装へジャンプ
- `gr` - 参照を表示
- `K` - ドキュメントを表示
- `<leader>rn` - 名前の変更
- `<leader>ac` - コードアクション

### ターミナル用マッピング (`keymap/terminal.vim`)
- `tt` - 新規タブでターミナルを開く
- `tx` - 下部に分割してターミナルを開く（高さ10行）
- `<ESC>` - ターミナルモードから抜ける（ノーマルモードへ）
- 各種ウィンドウ操作キー（`<C-W>`系のキーマップ）

## 主な機能

### プラグイン管理
- Jetpackを使用したプラグイン管理
- プラグインの自動インストール
- 最適化された読み込み

### コード補完・LSP
- coc.nvimによる強力な補完機能
- 各種言語サーバーのサポート
- リアルタイムの診断機能

### ファイル操作
- NERDTreeによるファイルブラウジング
- fzfによる高速なファイル検索
- 自動保存機能（特定のディレクトリで有効）

### 表示・UI
- Lightlineによるステータスライン
- TokyoNightカラースキーム
- ファイルタイプ別のシンタックスハイライト

### 端末統合
- 柔軟なターミナル統合
- ターミナルモードのカスタマイズ
- ウィンドウ操作の最適化

## インストール方法

1. このリポジトリをクローン:
```bash
git clone [repository-url] ~/.config/nvim
```

2. Neovimを起動:
```bash
nvim
```

3. 初回起動時に必要なプラグインが自動的にインストールされます

## 必要条件

- Neovim >= 0.5.0
- Git
- Node.js (coc.nvimに必要)
- 各種言語サーバー（使用する言語に応じて）

## カスタマイズ

各設定ファイルは目的別に分かれているため、必要に応じて簡単にカスタマイズできます：

- 基本的な設定は `options.vim` を編集
- キーマッピングは `keymap/` ディレクトリ内の各ファイルを編集
- プラグインの設定は `plugin-settings/` ディレクトリ内の対応するファイルを編集

## トラブルシューティング

問題が発生した場合：

1. `:checkhealth` を実行して、問題がないか確認
2. プラグインを更新: `:JetpackSync`
3. coc.nvimの診断: `:CocInfo`
4. 必要に応じて個別の設定ファイルを確認

